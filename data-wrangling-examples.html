<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Data Wrangling Examples | Data Analysis and Numerical Methods for Biological Systems Engineers</title>
  <meta name="description" content="<p>This book was developed as a companion text for the Virginia Tech Biological
Systems Engineering course BSE3144: Engineering Analysis for Biological
Systems using Numerical Methods.</p>" />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="Data Wrangling Examples | Data Analysis and Numerical Methods for Biological Systems Engineers" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This book was developed as a companion text for the Virginia Tech Biological
Systems Engineering course BSE3144: Engineering Analysis for Biological
Systems using Numerical Methods.</p>" />
  <meta name="github-repo" content="VT-BSE3144/bookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Wrangling Examples | Data Analysis and Numerical Methods for Biological Systems Engineers" />
  
  <meta name="twitter:description" content="<p>This book was developed as a companion text for the Virginia Tech Biological
Systems Engineering course BSE3144: Engineering Analysis for Biological
Systems using Numerical Methods.</p>" />
  

<meta name="author" content="R. Clay Wright" />


<meta name="date" content="2025-02-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rows.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analysis and Numerical Methods</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this book</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html"><i class="fa fa-check"></i><b>1</b> Introduction to Posit, Rstudio, &amp; Markdown</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#pre-work"><i class="fa fa-check"></i><b>1.1</b> Pre-work</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#posit"><i class="fa fa-check"></i><b>1.2</b> Posit</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#rstudio"><i class="fa fa-check"></i><b>1.3</b> Rstudio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#the-source-pane"><i class="fa fa-check"></i><b>1.3.1</b> The Source pane</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#markdown"><i class="fa fa-check"></i><b>1.3.2</b> Markdown</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#more-markdown-formatting"><i class="fa fa-check"></i><b>1.3.3</b> More Markdown formatting</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#running-code"><i class="fa fa-check"></i><b>1.3.4</b> Running code</a></li>
<li class="chapter" data-level="1.3.5" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#the-console-pane"><i class="fa fa-check"></i><b>1.3.5</b> The Console pane</a></li>
<li class="chapter" data-level="1.3.6" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#the-help-pane"><i class="fa fa-check"></i><b>1.3.6</b> The Help pane</a></li>
<li class="chapter" data-level="1.3.7" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#the-filesplotspackageshelpviewer-pane"><i class="fa fa-check"></i><b>1.3.7</b> The Files/Plots/Packages/Help/Viewer pane</a></li>
<li class="chapter" data-level="1.3.8" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#ok-back-to-the-source-pane"><i class="fa fa-check"></i><b>1.3.8</b> OK, back to the Source pane…</a></li>
<li class="chapter" data-level="1.3.9" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#the-environment-pane"><i class="fa fa-check"></i><b>1.3.9</b> The Environment pane</a></li>
<li class="chapter" data-level="1.3.10" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#the-historyconnectionsgitbuildtutorial-pane"><i class="fa fa-check"></i><b>1.3.10</b> The History/Connections/Git/Build/Tutorial pane</a></li>
<li class="chapter" data-level="1.3.11" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#terminalrenderbackground-jobs"><i class="fa fa-check"></i><b>1.3.11</b> Terminal/Render/Background Jobs</a></li>
<li class="chapter" data-level="1.3.12" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#yaml-headers"><i class="fa fa-check"></i><b>1.3.12</b> YAML headers</a></li>
<li class="chapter" data-level="1.3.13" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#code-chunkblock-settings-and-global-settings"><i class="fa fa-check"></i><b>1.3.13</b> Code chunk/block settings and global settings</a></li>
<li class="chapter" data-level="1.3.14" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#output-options"><i class="fa fa-check"></i><b>1.3.14</b> Output Options</a></li>
<li class="chapter" data-level="1.3.15" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#troubleshooting-knitrender-problems"><i class="fa fa-check"></i><b>1.3.15</b> Troubleshooting Knit/Render problems</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html"><i class="fa fa-check"></i>Rstudio and Markdown examples</a>
<ul>
<li class="chapter" data-level="1.4" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html#navigate-the-posit-and-rstudio-interface-with-proficiency."><i class="fa fa-check"></i><b>1.4</b> Navigate the Posit and RStudio interface with proficiency.</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html#making-new-documents"><i class="fa fa-check"></i><b>1.4.1</b> Making new documents</a></li>
<li class="chapter" data-level="1.4.2" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html#navigating-the-file-pane-and-file-paths"><i class="fa fa-check"></i><b>1.4.2</b> Navigating the file pane and file paths</a></li>
<li class="chapter" data-level="1.4.3" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html#console-pane"><i class="fa fa-check"></i><b>1.4.3</b> Console pane</a></li>
<li class="chapter" data-level="1.4.4" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html#environment-pane"><i class="fa fa-check"></i><b>1.4.4</b> Environment pane</a></li>
<li class="chapter" data-level="1.4.5" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html#history-pane"><i class="fa fa-check"></i><b>1.4.5</b> History pane</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html#articulate-the-process-of-using-rstudio-to-develop-markdown-documents."><i class="fa fa-check"></i><b>1.5</b> Articulate the process of using RStudio to develop markdown documents.</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html#cheat-sheets-yay"><i class="fa fa-check"></i><b>1.5.1</b> Cheat Sheets! Yay!</a></li>
<li class="chapter" data-level="1.5.2" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html#inserting-code-chunks"><i class="fa fa-check"></i><b>1.5.2</b> Inserting code chunks</a></li>
<li class="chapter" data-level="1.5.3" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html#changing-code-chunk-settings"><i class="fa fa-check"></i><b>1.5.3</b> Changing code chunk settings</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html#practice-using-markdown-to-format-reproducible-documents"><i class="fa fa-check"></i><b>1.6</b> Practice using markdown to format reproducible documents</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="rstudio-and-markdown-examples.html"><a href="rstudio-and-markdown-examples.html#tasks"><i class="fa fa-check"></i><b>1.6.1</b> Tasks</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>2</b> Data Wrangling</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-wrangling.html"><a href="data-wrangling.html#connection-to-previous-work-on-data-organization"><i class="fa fa-check"></i><b>2.1</b> Connection to previous work on Data Organization</a></li>
<li class="chapter" data-level="2.2" data-path="data-wrangling.html"><a href="data-wrangling.html#source"><i class="fa fa-check"></i><b>2.2</b> Source</a></li>
<li class="chapter" data-level="2.3" data-path="data-wrangling.html"><a href="data-wrangling.html#introduction---example-dataset-nycflights13"><i class="fa fa-check"></i><b>2.3</b> 3.1 Introduction - Example dataset <code>nycflights13</code></a></li>
<li class="chapter" data-level="2.4" data-path="data-wrangling.html"><a href="data-wrangling.html#section"><i class="fa fa-check"></i><b>2.4</b> 3.1.2</a></li>
<li class="chapter" data-level="2.5" data-path="data-wrangling.html"><a href="data-wrangling.html#dplyr-basics"><i class="fa fa-check"></i><b>2.5</b> 3.1.3 dplyr basics</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rows.html"><a href="rows.html"><i class="fa fa-check"></i><b>3</b> 3.2 Rows</a>
<ul>
<li class="chapter" data-level="3.1" data-path="rows.html"><a href="rows.html#filter"><i class="fa fa-check"></i><b>3.1</b> 3.2.1 filter()</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="rows.html"><a href="rows.html#logical-operators"><i class="fa fa-check"></i><b>3.1.1</b> Logical Operators</a></li>
<li class="chapter" data-level="3.1.2" data-path="rows.html"><a href="rows.html#missing-values"><i class="fa fa-check"></i><b>3.1.2</b> Missing values</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="rows.html"><a href="rows.html#arranging-rows"><i class="fa fa-check"></i><b>3.2</b> 3.2.3 Arranging rows</a></li>
<li class="chapter" data-level="3.3" data-path="rows.html"><a href="rows.html#columns"><i class="fa fa-check"></i><b>3.3</b> 3.3 Columns</a></li>
<li class="chapter" data-level="3.4" data-path="rows.html"><a href="rows.html#mutate---add-new-variables"><i class="fa fa-check"></i><b>3.4</b> 3.3.1 Mutate - Add new variables</a></li>
<li class="chapter" data-level="3.5" data-path="rows.html"><a href="rows.html#select"><i class="fa fa-check"></i><b>3.5</b> 3.3.2 Select</a></li>
<li class="chapter" data-level="3.6" data-path="rows.html"><a href="rows.html#the-pipe"><i class="fa fa-check"></i><b>3.6</b> 3.4 The pipe</a></li>
<li class="chapter" data-level="3.7" data-path="rows.html"><a href="rows.html#groups"><i class="fa fa-check"></i><b>3.7</b> 3.5 Groups</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data-wrangling-examples.html"><a href="data-wrangling-examples.html"><i class="fa fa-check"></i>Data Wrangling Examples</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="data-wrangling-examples.html"><a href="data-wrangling-examples.html#filter-1"><i class="fa fa-check"></i><b>3.7.1</b> Filter</a></li>
<li class="chapter" data-level="3.7.2" data-path="data-wrangling-examples.html"><a href="data-wrangling-examples.html#arrange"><i class="fa fa-check"></i><b>3.7.2</b> Arrange</a></li>
<li class="chapter" data-level="3.7.3" data-path="data-wrangling-examples.html"><a href="data-wrangling-examples.html#mutate---adds-a-new-column"><i class="fa fa-check"></i><b>3.7.3</b> Mutate - adds a new column</a></li>
<li class="chapter" data-level="3.7.4" data-path="data-wrangling-examples.html"><a href="data-wrangling-examples.html#select-1"><i class="fa fa-check"></i><b>3.7.4</b> Select</a></li>
<li class="chapter" data-level="3.7.5" data-path="data-wrangling-examples.html"><a href="data-wrangling-examples.html#grouped-summaries"><i class="fa fa-check"></i><b>3.7.5</b> Grouped summaries</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis and Numerical Methods for Biological Systems Engineers</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-wrangling-examples" class="section level1 unnumbered hasAnchor">
<h1>Data Wrangling Examples<a href="data-wrangling-examples.html#data-wrangling-examples" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>These examples are adapted from R4DS <a href="https://r4ds.hadley.nz/data-transform" class="uri">https://r4ds.hadley.nz/data-transform</a>.</p>
<div id="filter-1" class="section level3 hasAnchor" number="3.7.1">
<h3><span class="header-section-number">3.7.1</span> Filter<a href="data-wrangling-examples.html#filter-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>These are additional practice to those in the book to reinforce the reading and try by doing. Solutions for each are given below. Our suggestion is to try first and test your skill.</p>
<ol style="list-style-type: decimal">
<li>Find all flights that:</li>
</ol>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="data-wrangling-examples.html#cb71-1" tabindex="-1"></a><span class="co"># 1.1 Had an arrival delay of two or more hours (10,034 flights)</span></span>
<span id="cb71-2"><a href="data-wrangling-examples.html#cb71-2" tabindex="-1"></a></span>
<span id="cb71-3"><a href="data-wrangling-examples.html#cb71-3" tabindex="-1"></a><span class="co"># 1.2 Flew to Houston (IAH or HOU) (9,313 flights)</span></span>
<span id="cb71-4"><a href="data-wrangling-examples.html#cb71-4" tabindex="-1"></a></span>
<span id="cb71-5"><a href="data-wrangling-examples.html#cb71-5" tabindex="-1"></a><span class="co"># 1.3 Were operated by United, American, or Delta (139,504 flights)</span></span>
<span id="cb71-6"><a href="data-wrangling-examples.html#cb71-6" tabindex="-1"></a></span>
<span id="cb71-7"><a href="data-wrangling-examples.html#cb71-7" tabindex="-1"></a><span class="co"># 1.4 Departed in summer (July, August, and September) (86,326 flights)</span></span>
<span id="cb71-8"><a href="data-wrangling-examples.html#cb71-8" tabindex="-1"></a></span>
<span id="cb71-9"><a href="data-wrangling-examples.html#cb71-9" tabindex="-1"></a><span class="co"># 1.5 Arrived more than two hours late, but didn&#39;t leave late (3 flights)</span></span>
<span id="cb71-10"><a href="data-wrangling-examples.html#cb71-10" tabindex="-1"></a></span>
<span id="cb71-11"><a href="data-wrangling-examples.html#cb71-11" tabindex="-1"></a><span class="co"># 1.6 Were delayed by at least an hour, but made up over 30 minutes in flight (1,819 flights)</span></span>
<span id="cb71-12"><a href="data-wrangling-examples.html#cb71-12" tabindex="-1"></a></span>
<span id="cb71-13"><a href="data-wrangling-examples.html#cb71-13" tabindex="-1"></a><span class="co"># 1.7 Departed between midnight and 6am (inclusive) (9,373 flights)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><p>Another useful dplyr filtering helper is between(). What does it do? Can you use it to simplify the code needed to answer 1.7? (hint: look up bwetween in the help menu. You’ll see the required syntax, where x = vector, and left and right at the boundary values. You will also need to add an OR statement to include departure times at exactly 2400 since the dataframe has departures at both 0 and 2400)</p></li>
<li><p>How many flights have a missing dep_time? What other variables are missing? What might these rows represent?</p></li>
</ol>
<div id="solutions" class="section level4 hasAnchor" number="3.7.1.1">
<h4><span class="header-section-number">3.7.1.1</span> solutions:<a href="data-wrangling-examples.html#solutions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>1.1 k &lt;- filter(flights,(arr_delay &gt; 120))
1.2 k &lt;- filter(flights,dest == “IAH”|dest==“HOU”)
1.3 k &lt;- filter(flights,carrier==“DL”|carrier==“UA”|carrier==“AA”)
1.4 k &lt;- filter(flights,month==7 | month==8 | month==9)
1.5 k &lt;- filter(flights,arr_delay &gt;120 &amp; dep_delay == 0)
1.6 filter(flights,dep_delay &gt;60 &amp; arr_delay &lt;(dep_delay-30)))
1.7 k &lt;- filter(flights,dep_time==2400 | (dep_time&lt;0601))
2. m &lt;- filter(flights,between(dep_time,0,0600)|dep_time==2400)
3. y &lt;- filter(flights, is.na(dep_time))</p>
</div>
</div>
<div id="arrange" class="section level3 hasAnchor" number="3.7.2">
<h3><span class="header-section-number">3.7.2</span> Arrange<a href="data-wrangling-examples.html#arrange" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Use desc() to re-order by a column in descending order:</li>
</ol>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="data-wrangling-examples.html#cb72-1" tabindex="-1"></a>flights <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="sc">-</span>day, <span class="fu">desc</span>(month))</span></code></pre></div>
<pre><code>## # A tibble: 336,776 × 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013    12    31       13           2359        14      439            437
##  2  2013    12    31       18           2359        19      449            444
##  3  2013    12    31       26           2245       101      129           2353
##  4  2013    12    31      459            500        -1      655            651
##  5  2013    12    31      514            515        -1      814            812
##  6  2013    12    31      549            551        -2      925            900
##  7  2013    12    31      550            600       -10      725            745
##  8  2013    12    31      552            600        -8      811            826
##  9  2013    12    31      553            600        -7      741            754
## 10  2013    12    31      554            550         4     1024           1027
## # ℹ 336,766 more rows
## # ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
## #   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
## #   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>Sort flights to find the most delayed flights. Find the flights that left earliest.</p></li>
<li><p>Sort flights to find the fastest (highest speed) flights. Here you are creating a metric by using the existing data in the dataframe to calculate speed.</p></li>
<li><p>Which flights traveled the farthest? Which traveled the shortest?</p></li>
</ol>
<p>(flights 1632 and 51)</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="data-wrangling-examples.html#cb74-1" tabindex="-1"></a><span class="fu">arrange</span>(flights, <span class="sc">-</span>distance)</span></code></pre></div>
<pre><code>## # A tibble: 336,776 × 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      857            900        -3     1516           1530
##  2  2013     1     2      909            900         9     1525           1530
##  3  2013     1     3      914            900        14     1504           1530
##  4  2013     1     4      900            900         0     1516           1530
##  5  2013     1     5      858            900        -2     1519           1530
##  6  2013     1     6     1019            900        79     1558           1530
##  7  2013     1     7     1042            900       102     1620           1530
##  8  2013     1     8      901            900         1     1504           1530
##  9  2013     1     9      641            900      1301     1242           1530
## 10  2013     1    10      859            900        -1     1449           1530
## # ℹ 336,766 more rows
## # ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
## #   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
## #   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
<div id="mutate---adds-a-new-column" class="section level3 hasAnchor" number="3.7.3">
<h3><span class="header-section-number">3.7.3</span> Mutate - adds a new column<a href="data-wrangling-examples.html#mutate---adds-a-new-column" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="data-wrangling-examples.html#cb76-1" tabindex="-1"></a>flights <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">check_arr_delay =</span> sched_arr_time <span class="sc">-</span> arr_time, </span>
<span id="cb76-2"><a href="data-wrangling-examples.html#cb76-2" tabindex="-1"></a>                  <span class="at">check_dep_delay =</span> sched_dep_time <span class="sc">-</span> dep_time)</span></code></pre></div>
<pre><code>## # A tibble: 336,776 × 21
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
## # ℹ 336,766 more rows
## # ℹ 13 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
## #   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
## #   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, check_arr_delay &lt;int&gt;,
## #   check_dep_delay &lt;int&gt;</code></pre>
</div>
<div id="select-1" class="section level3 hasAnchor" number="3.7.4">
<h3><span class="header-section-number">3.7.4</span> Select<a href="data-wrangling-examples.html#select-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="data-wrangling-examples.html#cb78-1" tabindex="-1"></a>flights <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">check_arr_delay =</span> sched_arr_time <span class="sc">-</span> arr_time, </span>
<span id="cb78-2"><a href="data-wrangling-examples.html#cb78-2" tabindex="-1"></a>                  <span class="at">check_dep_delay =</span> sched_dep_time <span class="sc">-</span> dep_time) <span class="sc">|&gt;</span></span>
<span id="cb78-3"><a href="data-wrangling-examples.html#cb78-3" tabindex="-1"></a>  <span class="fu">select</span>(check_arr_delay, check_dep_delay)</span></code></pre></div>
<pre><code>## # A tibble: 336,776 × 2
##    check_arr_delay check_dep_delay
##              &lt;int&gt;           &lt;int&gt;
##  1             -11              -2
##  2             -20              -4
##  3             -73              -2
##  4              18               1
##  5              25              46
##  6             -12               4
##  7             -59              45
##  8              14              43
##  9               8              43
## 10              -8              42
## # ℹ 336,766 more rows</code></pre>
</div>
<div id="grouped-summaries" class="section level3 hasAnchor" number="3.7.5">
<h3><span class="header-section-number">3.7.5</span> Grouped summaries<a href="data-wrangling-examples.html#grouped-summaries" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="data-wrangling-examples.html#cb80-1" tabindex="-1"></a>summary_FlightDelay <span class="ot">&lt;-</span></span>
<span id="cb80-2"><a href="data-wrangling-examples.html#cb80-2" tabindex="-1"></a>  <span class="co"># I like to use a new line here so that I can easily comment out the</span></span>
<span id="cb80-3"><a href="data-wrangling-examples.html#cb80-3" tabindex="-1"></a>  <span class="co"># assignment while building my pipe</span></span>
<span id="cb80-4"><a href="data-wrangling-examples.html#cb80-4" tabindex="-1"></a>  flights <span class="sc">|&gt;</span></span>
<span id="cb80-5"><a href="data-wrangling-examples.html#cb80-5" tabindex="-1"></a>  <span class="fu">group_by</span>(month) <span class="sc">|&gt;</span></span>
<span id="cb80-6"><a href="data-wrangling-examples.html#cb80-6" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb80-7"><a href="data-wrangling-examples.html#cb80-7" tabindex="-1"></a></span>
<span id="cb80-8"><a href="data-wrangling-examples.html#cb80-8" tabindex="-1"></a>summary_FlightDelay</span></code></pre></div>
<pre><code>## # A tibble: 12 × 2
##    month delay
##    &lt;int&gt; &lt;dbl&gt;
##  1     1 10.0 
##  2     2 10.8 
##  3     3 13.2 
##  4     4 13.9 
##  5     5 13.0 
##  6     6 20.8 
##  7     7 21.7 
##  8     8 12.6 
##  9     9  6.72
## 10    10  6.24
## 11    11  5.44
## 12    12 16.6</code></pre>
<p>We could also figure out which carrier had the longest and shortest delay in December, if we were trying to plan a timely winter break flight.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="data-wrangling-examples.html#cb82-1" tabindex="-1"></a>carrier_delay <span class="ot">&lt;-</span> <span class="co"># I like to use a new line here so that I can easily comment out this assignment line while building my pipe</span></span>
<span id="cb82-2"><a href="data-wrangling-examples.html#cb82-2" tabindex="-1"></a>  flights <span class="sc">|&gt;</span></span>
<span id="cb82-3"><a href="data-wrangling-examples.html#cb82-3" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>distance) <span class="sc">|&gt;</span></span>
<span id="cb82-4"><a href="data-wrangling-examples.html#cb82-4" tabindex="-1"></a>  <span class="fu">filter</span>(month <span class="sc">==</span> <span class="dv">12</span>) <span class="sc">|&gt;</span></span>
<span id="cb82-5"><a href="data-wrangling-examples.html#cb82-5" tabindex="-1"></a>  <span class="fu">select</span>(flight, dep_delay, carrier)</span>
<span id="cb82-6"><a href="data-wrangling-examples.html#cb82-6" tabindex="-1"></a></span>
<span id="cb82-7"><a href="data-wrangling-examples.html#cb82-7" tabindex="-1"></a>carrier_delay</span></code></pre></div>
<pre><code>## # A tibble: 28,135 × 3
##    flight dep_delay carrier
##     &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;  
##  1     51        -2 HA     
##  2     51       -10 HA     
##  3     51         3 HA     
##  4     51       -10 HA     
##  5     51        -6 HA     
##  6     51        -3 HA     
##  7     51         5 HA     
##  8     51        -2 HA     
##  9     51         0 HA     
## 10     51        -1 HA     
## # ℹ 28,125 more rows</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="data-wrangling-examples.html#cb84-1" tabindex="-1"></a>carrier_delay <span class="sc">|&gt;</span> </span>
<span id="cb84-2"><a href="data-wrangling-examples.html#cb84-2" tabindex="-1"></a>  <span class="fu">group_by</span>(carrier) <span class="sc">|&gt;</span> <span class="co"># want to find the average for each carrier</span></span>
<span id="cb84-3"><a href="data-wrangling-examples.html#cb84-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">average_dep_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb84-4"><a href="data-wrangling-examples.html#cb84-4" tabindex="-1"></a>  <span class="co"># calculate average delay</span></span>
<span id="cb84-5"><a href="data-wrangling-examples.html#cb84-5" tabindex="-1"></a>  <span class="fu">arrange</span>(average_dep_delay)</span></code></pre></div>
<pre><code>## # A tibble: 15 × 2
##    carrier average_dep_delay
##    &lt;chr&gt;               &lt;dbl&gt;
##  1 HA                  -3.14
##  2 US                   4.94
##  3 VX                   6.10
##  4 DL                  10.8 
##  5 AA                  11.7 
##  6 MQ                  12.7 
##  7 YV                  13.1 
##  8 F9                  13.1 
##  9 B6                  17.0 
## 10 UA                  17.7 
## 11 AS                  18.0 
## 12 9E                  19.8 
## 13 WN                  24.9 
## 14 FL                  26.1 
## 15 EV                  27.9</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rows.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/VT-BSE3144/bookdown/edit/BRANCH/04-1_Examples.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
