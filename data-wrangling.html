<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Data Wrangling | Data Analysis and Numerical Methods for Biological Systems Engineers</title>
  <meta name="description" content="<p>This book was developed as a companion text for the Virginia Tech Biological
Systems Engineering course BSE3144: Engineering Analysis for Biological
Systems using Numerical Methods.</p>" />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Data Wrangling | Data Analysis and Numerical Methods for Biological Systems Engineers" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This book was developed as a companion text for the Virginia Tech Biological
Systems Engineering course BSE3144: Engineering Analysis for Biological
Systems using Numerical Methods.</p>" />
  <meta name="github-repo" content="VT-BSE3144/bookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Data Wrangling | Data Analysis and Numerical Methods for Biological Systems Engineers" />
  
  <meta name="twitter:description" content="<p>This book was developed as a companion text for the Virginia Tech Biological
Systems Engineering course BSE3144: Engineering Analysis for Biological
Systems using Numerical Methods.</p>" />
  

<meta name="author" content="R. Clay Wright" />


<meta name="date" content="2025-02-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tasks.html"/>
<link rel="next" href="rows.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analysis and Numerical Methods</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Data Analysis and Numerical Methods for Biological Systems Engineers</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html"><i class="fa fa-check"></i><b>2</b> Introduction to Posit, Rstudio, &amp; Markdown</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#pre-work"><i class="fa fa-check"></i><b>2.1</b> Pre-work</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#posit"><i class="fa fa-check"></i><b>2.2</b> Posit</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#rstudio"><i class="fa fa-check"></i><b>2.3</b> Rstudio</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#the-source-pane"><i class="fa fa-check"></i><b>2.3.1</b> The Source pane</a></li>
<li class="chapter" data-level="2.3.2" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#markdown"><i class="fa fa-check"></i><b>2.3.2</b> Markdown</a></li>
<li class="chapter" data-level="2.3.3" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#more-markdown-formatting"><i class="fa fa-check"></i><b>2.3.3</b> More Markdown formatting</a></li>
<li class="chapter" data-level="2.3.4" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#running-code"><i class="fa fa-check"></i><b>2.3.4</b> Running code</a></li>
<li class="chapter" data-level="2.3.5" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#the-console-pane"><i class="fa fa-check"></i><b>2.3.5</b> The Console pane</a></li>
<li class="chapter" data-level="2.3.6" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#the-help-pane"><i class="fa fa-check"></i><b>2.3.6</b> The Help pane</a></li>
<li class="chapter" data-level="2.3.7" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#the-filesplotspackageshelpviewer-pane"><i class="fa fa-check"></i><b>2.3.7</b> The Files/Plots/Packages/Help/Viewer pane</a></li>
<li class="chapter" data-level="2.3.8" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#ok-back-to-the-source-pane"><i class="fa fa-check"></i><b>2.3.8</b> OK, back to the Source pane…</a></li>
<li class="chapter" data-level="2.3.9" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#the-environment-pane"><i class="fa fa-check"></i><b>2.3.9</b> The Environment pane</a></li>
<li class="chapter" data-level="2.3.10" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#the-historyconnectionsgitbuildtutorial-pane"><i class="fa fa-check"></i><b>2.3.10</b> The History/Connections/Git/Build/Tutorial pane</a></li>
<li class="chapter" data-level="2.3.11" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#terminalrenderbackground-jobs"><i class="fa fa-check"></i><b>2.3.11</b> Terminal/Render/Background Jobs</a></li>
<li class="chapter" data-level="2.3.12" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#yaml-headers"><i class="fa fa-check"></i><b>2.3.12</b> YAML headers</a></li>
<li class="chapter" data-level="2.3.13" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#code-chunkblock-settings-and-global-settings"><i class="fa fa-check"></i><b>2.3.13</b> Code chunk/block settings and global settings</a></li>
<li class="chapter" data-level="2.3.14" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#output-options"><i class="fa fa-check"></i><b>2.3.14</b> Output Options</a></li>
<li class="chapter" data-level="2.3.15" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#troubleshooting-knitrender-problems"><i class="fa fa-check"></i><b>2.3.15</b> Troubleshooting Knit/Render problems</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#rstudio-and-markdown-examples"><i class="fa fa-check"></i><b>2.4</b> Rstudio and Markdown examples</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#navigate-the-posit-and-rstudio-interface-with-proficiency."><i class="fa fa-check"></i><b>2.5</b> Navigate the Posit and RStudio interface with proficiency.</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#making-new-documents"><i class="fa fa-check"></i><b>2.5.1</b> Making new documents</a></li>
<li class="chapter" data-level="2.5.2" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#navigating-the-file-pane-and-file-paths"><i class="fa fa-check"></i><b>2.5.2</b> Navigating the file pane and file paths</a></li>
<li class="chapter" data-level="2.5.3" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#console-pane"><i class="fa fa-check"></i><b>2.5.3</b> Console pane</a></li>
<li class="chapter" data-level="2.5.4" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#environment-pane"><i class="fa fa-check"></i><b>2.5.4</b> Environment pane</a></li>
<li class="chapter" data-level="2.5.5" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#history-pane"><i class="fa fa-check"></i><b>2.5.5</b> History pane</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#articulate-the-process-of-using-rstudio-to-develop-markdown-documents."><i class="fa fa-check"></i><b>2.6</b> Articulate the process of using RStudio to develop markdown documents.</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#cheat-sheets-yay"><i class="fa fa-check"></i><b>2.6.1</b> Cheat Sheets! Yay!</a></li>
<li class="chapter" data-level="2.6.2" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#inserting-code-chunks"><i class="fa fa-check"></i><b>2.6.2</b> Inserting code chunks</a></li>
<li class="chapter" data-level="2.6.3" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#changing-code-chunk-settings"><i class="fa fa-check"></i><b>2.6.3</b> Changing code chunk settings</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-posit-rstudio-markdown.html"><a href="introduction-to-posit-rstudio-markdown.html#practice-using-markdown-to-format-reproducible-documents"><i class="fa fa-check"></i><b>2.7</b> Practice using markdown to format reproducible documents</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tasks.html"><a href="tasks.html"><i class="fa fa-check"></i><b>3</b> Tasks</a></li>
<li class="chapter" data-level="4" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>4</b> Data Wrangling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-wrangling.html"><a href="data-wrangling.html#connection-to-previous-work-on-data-organization"><i class="fa fa-check"></i><b>4.1</b> Connection to previous work on Data Organization</a></li>
<li class="chapter" data-level="4.2" data-path="data-wrangling.html"><a href="data-wrangling.html#source"><i class="fa fa-check"></i><b>4.2</b> Source</a></li>
<li class="chapter" data-level="4.3" data-path="data-wrangling.html"><a href="data-wrangling.html#introduction---example-dataset-nycflights13"><i class="fa fa-check"></i><b>4.3</b> 3.1 Introduction - Example dataset <code>nycflights13</code></a></li>
<li class="chapter" data-level="4.4" data-path="data-wrangling.html"><a href="data-wrangling.html#section"><i class="fa fa-check"></i><b>4.4</b> 3.1.2</a></li>
<li class="chapter" data-level="4.5" data-path="data-wrangling.html"><a href="data-wrangling.html#dplyr-basics"><i class="fa fa-check"></i><b>4.5</b> 3.1.3 dplyr basics</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="rows.html"><a href="rows.html"><i class="fa fa-check"></i><b>5</b> 3.2 Rows</a>
<ul>
<li class="chapter" data-level="5.1" data-path="rows.html"><a href="rows.html#filter"><i class="fa fa-check"></i><b>5.1</b> 3.2.1 filter()</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="rows.html"><a href="rows.html#logical-operators"><i class="fa fa-check"></i><b>5.1.1</b> Logical Operators</a></li>
<li class="chapter" data-level="5.1.2" data-path="rows.html"><a href="rows.html#missing-values"><i class="fa fa-check"></i><b>5.1.2</b> Missing values</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="rows.html"><a href="rows.html#arranging-rows"><i class="fa fa-check"></i><b>5.2</b> 3.2.3 Arranging rows</a></li>
<li class="chapter" data-level="5.3" data-path="rows.html"><a href="rows.html#columns"><i class="fa fa-check"></i><b>5.3</b> 3.3 Columns</a></li>
<li class="chapter" data-level="5.4" data-path="rows.html"><a href="rows.html#mutate---add-new-variables"><i class="fa fa-check"></i><b>5.4</b> 3.3.1 Mutate - Add new variables</a></li>
<li class="chapter" data-level="5.5" data-path="rows.html"><a href="rows.html#select"><i class="fa fa-check"></i><b>5.5</b> 3.3.2 Select</a></li>
<li class="chapter" data-level="5.6" data-path="rows.html"><a href="rows.html#the-pipe"><i class="fa fa-check"></i><b>5.6</b> 3.4 The pipe</a></li>
<li class="chapter" data-level="5.7" data-path="rows.html"><a href="rows.html#groups"><i class="fa fa-check"></i><b>5.7</b> 3.5 Groups</a></li>
<li class="chapter" data-level="5.8" data-path="rows.html"><a href="rows.html#data-wrangling-examples"><i class="fa fa-check"></i><b>5.8</b> Data Wrangling Examples</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="rows.html"><a href="rows.html#filter-1"><i class="fa fa-check"></i><b>5.8.1</b> Filter</a></li>
<li class="chapter" data-level="5.8.2" data-path="rows.html"><a href="rows.html#arrange"><i class="fa fa-check"></i><b>5.8.2</b> Arrange</a></li>
<li class="chapter" data-level="5.8.3" data-path="rows.html"><a href="rows.html#mutate---adds-a-new-column"><i class="fa fa-check"></i><b>5.8.3</b> Mutate - adds a new column</a></li>
<li class="chapter" data-level="5.8.4" data-path="rows.html"><a href="rows.html#select-1"><i class="fa fa-check"></i><b>5.8.4</b> Select</a></li>
<li class="chapter" data-level="5.8.5" data-path="rows.html"><a href="rows.html#grouped-summaries"><i class="fa fa-check"></i><b>5.8.5</b> Grouped summaries</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis and Numerical Methods for Biological Systems Engineers</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-wrangling" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">4</span> Data Wrangling<a href="data-wrangling.html#data-wrangling" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This week our goals are to be able to:</p>
<ul>
<li>Use the dplyr package to perform basic data transformation and analysis</li>
<li>Filter and arrange rows of datasets</li>
<li>Create new columns with <code>mutate</code></li>
<li>Select columns</li>
<li>Use pipes to make our code more readable</li>
<li>Summarize data by groups using <code>summarize</code></li>
</ul>
<div id="connection-to-previous-work-on-data-organization" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Connection to previous work on Data Organization<a href="data-wrangling.html#connection-to-previous-work-on-data-organization" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This week, we will finally see why organized data is worth the effort. We’ll follow an exercise using a data source with over 300,000 rows! The work this week will show us (1) why R is awesome and fast for analysis, and (2) reinforce the purpose of organized data (following the 12 best practices we learned in Week 1).</p>
<p><strong>Because we are dealing with large datasets now, make sure that your Problem Set does not include pages and pages of data by just showing the top of the final result using <code>head(dataset)</code></strong></p>
</div>
<div id="source" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Source<a href="data-wrangling.html#source" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This exercise follows along with the reading for this week R for Data Science Chapter 3 <a href="https://r4ds.hadley.nz/data-transform" class="uri">https://r4ds.hadley.nz/data-transform</a> (this was chapter 5 in the old version <a href="https://r4ds.had.co.nz/transform.html" class="uri">https://r4ds.had.co.nz/transform.html</a>, hopefully I’ve updated everything but incase I haven’t there’s the link). The template below is for you to be able to follow along in the reading and complete the exercises.</p>
</div>
<div id="introduction---example-dataset-nycflights13" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> 3.1 Introduction - Example dataset <code>nycflights13</code><a href="data-wrangling.html#introduction---example-dataset-nycflights13" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>I’ve gone ahead and installed the 2 packages, but you need to load them into the environment using:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="data-wrangling.html#cb24-1" tabindex="-1"></a><span class="fu">library</span>(nycflights13)</span>
<span id="cb24-2"><a href="data-wrangling.html#cb24-2" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
## ✔ dplyr     1.1.4     ✔ readr     2.1.5
## ✔ forcats   1.0.0     ✔ stringr   1.5.1
## ✔ ggplot2   3.5.1     ✔ tibble    3.2.1
## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1
## ✔ purrr     1.0.4     
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<p>Why is it important to do this? When you are creating code, explicitly turning on packages that are required is considered good practice. This goes along with the importance of being intentional and making your code reproducible by anyone, anywhere. Tell the computer what to do…explicitly! Tell everyone explicitly what you have done to get to your results.</p>
<p>This also keeps your R sessions memory low and prevents duplicate functions from being loaded from different packages. Notice above when we load tidyverse we get the message that <code>✖ dplyr::filter() masks stats::filter()</code> and <code>✖ dplyr::lag()    masks stats::lag()</code>, that is because the stats package also has <code>filter</code> and <code>lag</code> functions as well as the dplyr package which is part of the tidyverse package. The tidyverse is actually a package of packages including ggplot2, purrr, tibble, dplyr, tidyr, stringr, readr, and forcats (and maybe more since writing this). We will learn more about all of these in coming weeks. In our case, because we more recently loaded tidyverse if we call <code>filter(some_argument...)</code> this will run the tidyverse/dplyr version of the function. As it says in <a href="https://r4ds.hadley.nz/data-transform#prerequisites">the reading</a>, if you want to use the base, or stats, version of these functions after loading dplyr, you’ll need to specify the package that the function comes from using two colons <code>::</code> as in <code>stats::filter()</code> and <code>stats::lag().</code></p>
</div>
<div id="section" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> 3.1.2<a href="data-wrangling.html#section" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Run <code>flights</code> in the code chunk below. The output should match the reading. Note that you can find a nice README/data dictionary/documentation of this dataset by viewing its help documentation <code>?flights</code>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="data-wrangling.html#cb26-1" tabindex="-1"></a>flights</span></code></pre></div>
<pre><code>## # A tibble: 336,776 × 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
## # ℹ 336,766 more rows
## # ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
## #   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
## #   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>As described, <code>flights</code> is a data frame called a tibble. What does <code>int</code> mean on the third line of the table? Or <code>dbl</code>?</p>
<p>These are types of variables. Be sure to familiarize yourself with the various types as you move forward, so focus on this section in <a href="https://r4ds.had.co.nz/transform.html#prerequisites-2">the reading</a>. You can also check out <a href="https://datacarpentry.org/R-ecology-lesson/01-intro-to-r.html#Vectors_and_data_types">Vectors and data types in Data Carpentry</a>.</p>
</div>
<div id="dplyr-basics" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> 3.1.3 dplyr basics<a href="data-wrangling.html#dplyr-basics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://r4ds.hadley.nz/data-transform#dplyr-basics" class="uri">https://r4ds.hadley.nz/data-transform#dplyr-basics</a></p>
<p>Most of the tidyverse aims to make programming make “grammatical” sense in that it is easy to read, understand, and talk about using typical language. One of the really tricky parts of many programming languages including R that you have already experienced is how nested accessors (like <code>[]</code> and <code>$</code>) combined with functions and logical statements are used to do operations on parts of datasets (like finding the mean of certain columns from certain rows). This can make reading a line of code really difficult. You have to read the code from the inside out. For example, from last week, we can run from inside to out.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="data-wrangling.html#cb28-1" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">is.na</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="dv">1</span>)))</span></code></pre></div>
<pre><code>## [1] 0.3333333</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="data-wrangling.html#cb30-1" tabindex="-1"></a><span class="co"># Inner parentheses</span></span>
<span id="cb30-2"><a href="data-wrangling.html#cb30-2" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1]  1 NA  1</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="data-wrangling.html#cb32-1" tabindex="-1"></a><span class="co"># next set</span></span>
<span id="cb32-2"><a href="data-wrangling.html#cb32-2" tabindex="-1"></a><span class="fu">is.na</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="dv">1</span>))</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="data-wrangling.html#cb34-1" tabindex="-1"></a><span class="co">#full line</span></span>
<span id="cb34-2"><a href="data-wrangling.html#cb34-2" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">is.na</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="dv">1</span>)))</span></code></pre></div>
<pre><code>## [1] 0.3333333</code></pre>
<p>From the dplyr homepage: “dplyr is a grammar of data manipulation, providing a consistent set of verbs that help you solve the most common data manipulation challenges” where verbs are functions that operate on nouns, which are your dataset and elements within it.</p>
<p>For all dplyr “verbs”:</p>
<ol style="list-style-type: decimal">
<li><p>The first argument is always a data frame.</p></li>
<li><p>The subsequent arguments typically describe which columns to operate on, using the variable names (<strong>without quotes</strong>).</p></li>
<li><p>The output is always a new data frame.</p></li>
</ol>
<p><a href="https://r4ds.hadley.nz/data-transform#dplyr-basics:~:text=Because%20each%20verb,Let%E2%80%99s%20dive%20in!">Direct from R4DS</a>: “Because each verb does one thing well, solving complex problems will usually require combining multiple verbs, and we’ll do so with the pipe, <code>|&gt;</code>. We’ll discuss the pipe more in Section 3.4, but in brief, the pipe takes the thing on its left and passes it along to the function on its right so that <code>x |&gt; f(y)</code> is equivalent to <code>f(x, y)</code>, and <code>x |&gt; f(y) |&gt; g(z)</code> is equivalent to <code>g(f(x, y), z)</code>. The easiest way to pronounce the pipe is “then”. That makes it possible to get a sense of the following code even though you haven’t yet learned the details:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="data-wrangling.html#cb36-1" tabindex="-1"></a>flights <span class="sc">|&gt;</span></span>
<span id="cb36-2"><a href="data-wrangling.html#cb36-2" tabindex="-1"></a>  <span class="fu">filter</span>(dest <span class="sc">==</span> <span class="st">&quot;IAH&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb36-3"><a href="data-wrangling.html#cb36-3" tabindex="-1"></a>  <span class="fu">group_by</span>(year, month, day) <span class="sc">|&gt;</span> </span>
<span id="cb36-4"><a href="data-wrangling.html#cb36-4" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb36-5"><a href="data-wrangling.html#cb36-5" tabindex="-1"></a>    <span class="at">arr_delay =</span> <span class="fu">mean</span>(arr_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb36-6"><a href="data-wrangling.html#cb36-6" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the
## `.groups` argument.</code></pre>
<pre><code>## # A tibble: 365 × 4
## # Groups:   year, month [12]
##     year month   day arr_delay
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;
##  1  2013     1     1     17.8 
##  2  2013     1     2      7   
##  3  2013     1     3     18.3 
##  4  2013     1     4     -3.2 
##  5  2013     1     5     20.2 
##  6  2013     1     6      9.28
##  7  2013     1     7     -7.74
##  8  2013     1     8      7.79
##  9  2013     1     9     18.1 
## 10  2013     1    10      6.68
## # ℹ 355 more rows</code></pre>
<p>dplyr’s verbs are organized into four groups based on what they operate on: rows, columns, groups, or tables. In the following sections you’ll learn the most important verbs for rows, columns, and groups, then we’ll come back to the join verbs that work on tables in Chapter 19. Let’s dive in!”</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tasks.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rows.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/VT-BSE3144/bookdown/edit/BRANCH/04-0_Intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
